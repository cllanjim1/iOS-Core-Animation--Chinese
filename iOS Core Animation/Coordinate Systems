#坐标系

图层像视图一样是具有层次的，它们都有对应的图层树。position相对于图层的bounds的子图层。如果子图层移动，所有的都如这个子图层。

这是为了图层位置方便，因为它允许你在根图层移动将多个图层做为一个单元的子树。但有些时候，你需要了解图层的*绝对*位置或（更常见）相对于图层的其他父层。

CAlayer在转换不同的图层坐标系时提供了一些有效的方法：
```
- (CGPoint)convertPoint:(CGPoint)point fromLayer:(CALayer *)layer;
- (CGPoint)convertPoint:(CGPoint)point toLayer:(CALayer *)layer;
- (CGRect)convertRect:(CGRect)rect fromLayer:(CALayer *)layer;
- (CGRect)convertRect:(CGRect)rect toLayer:(CALayer *)layer;
```
这些方法使你能够在点或矩形的坐标系统中定义一个图层,并将其转化为另一个的坐标系。

###几何折叠

惯例上iOS的position规定在父类图层的边界左上角。在Mac OS上，position通常是在左下角。Core Animation有优秀的geometryFlipped属性能够支持它们。这是通过BOOL值来判断这个几何图层是否根据子图层折叠这个图层。在iOS上设置这个属性为YES意味着子图层将垂直折叠将*底部*作为正常范围，而不是顶部（因为如果都是子图层，诸如此类，除非它们的geometryFlipped属性为YES）。

###Z轴

CALayer不像UIView是二维的，它是三维空间的。此前position和anchorPoint属性我们已经讨论过了，CALayer有两个额外的属性，图层的Z轴是通过zPosition和anchorPointZ描述的，它们都是浮点型值。

