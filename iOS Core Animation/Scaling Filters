#缩放过滤
本章我们将讲解`minificationFilter`和`magnificationFilter`属性。通常在iOS中，当你展示一个图形时候，你应该尝试展示真实尺寸（简言之，让图像的像素在屏幕上也保持1：1的比例）。理由如下：
- 因为像素没有被拉伸，这样能有最好的质量
- 你不需要存储许多的像素，所以最好在内存中使用
- 因为GPU不得不努力工作，使它得到最好的性能

有时，它必须展示图像的较大或较小的尺寸。例如人们的头像使用小图片，或者用户能够自由缩放的大型图片。这种情况下，不太可能设置不同尺寸的图像用来展示。

当图像展示不同尺寸时，算法（经常称它为*scaling filter*）是支持原始图像的像素生成新的像素效果展示在屏幕上。

这不是一个改变图像尺寸常用的算法。这个方法依靠其本身的缩放来实现。`CALayer`提供了3种选择用来改变图像尺寸，都是用字符串常量表示：
```
kCAFilterLinear
kCAFilterNearest
kCAFilterTrilinear
```
默认过滤是`kCAFilterLinear`，包括*minification*（缩小图像）和*magnification*（扩大图像）。它使用的*双线性*过滤算法，大多情况下效果都非常好。双线性过滤通过多重取样像素来创建一个最终的结果。最终结果给人感觉十分平滑，如果图像放大的系数较高，将会使其较为模糊（见图 4.14）。

`kCAFilterTrilinear`参数和`kCAFilterLinear`看起来十分相似。它们在大多数情况下并无明显区别，但三线过滤优于双线过滤在图像的多重尺寸和三维取样上，结合像素较大或者较小的存储图像表示创建最终结果。

这个方法优点就是算法能够在一对图像中使其非常接近最后的大小。这个方法不需要许多像素同时取样，可以提高性能和改善取样时可能发生的一些小错误。

![alt text](https://raw.githubusercontent.com/hhgz9527/qipaname/master/Resource/4.14.png)
>处理较大的图像，双线性或三线性都是不错的选择

`kCAFilterNearest`是一个简略的方法。顾名思义，这个算法（通常称为*最邻近*过滤）取最近的一个像素和任何颜色混合。这样非常迅速，不会模糊图像，但缩小的图片质量非常差，较大的图片又会出现像素化和块状样式。

在图 4.14中，注意当相邻的版本收缩到较小尺寸时候，双线性图像看起来扭曲较小，但扩大后却模糊不清。与图 4.15相比，当我们有一个非常小的图像时。这种情况下，最邻近是保持原有像素最好的方法，无论图像是放大还是缩小，线性过滤都将它们转换成模糊状。

![alt text](https://raw.githubusercontent.com/hhgz9527/qipaname/master/Resource/4.15.png)
>小图像没有对角线，则邻近过滤较好
